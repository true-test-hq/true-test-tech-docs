# Customer Module

## Описание
Модуль `Customer` отвечает за управление сущностями "Клиент" (Customer).
Используется для управления доступом внешних систем.

## Основные возможности
-   **Получение данных клиента**: Получение секрета и статуса активности клиента по ID.

## Доменные сущности

### Customer (Клиент)
Сущность для управления доступом внешних систем.

**Поля:**
-   `id`: Уникальный идентификатор клиента.
-   `secret`: Секретный ключ для аутентификации внешней системы.
-   `active`: Флаг активности клиента (boolean).

## API
Модуль не предоставляет публичных HTTP контроллеров. Используется как внутренний сервис.

## Архитектура и реализация

### Основные компоненты
-   **CustomerService**: Простой сервис для получения данных клиента (секрета и статуса).
-   **Customer (Aggregate)**: Доменный объект, инкапсулирующий данные клиента (`secret`, `isActive`).
-   **ICustomerRepository**: Интерфейс для доступа к данным клиентов.

### Команды (Commands)
В данном модуле **не используется** паттерн Command, так как логика ограничивается простым чтением данных (Read-only operations).
Взаимодействие происходит напрямую через сервис `CustomerService`.

## Для новых разработчиков

### Структура модуля
```
customer/
├── infrastructure/     # Infrastructure Layer
│   ├── persistence/      # Реализации репозиториев
│   └── index.ts
├── model/                # Domain Layer
│   ├── domain/            # Доменные объекты
│   │   └── interfaces/    # Интерфейсы доменных объектов
│   └── services/         # Сервисы уровня приложения
├── index.ts             # Экспорт модуля
└── README.md            # Документация модуля
```

### Назначение модуля
Модуль используется для аутентификации внешних систем, которые интегрируются с платформой. 
Каждый внешний клиент получает уникальный ID и секретный ключ для доступа к API.

### Основные потоки данных
1. **Проверка доступа внешней системы**:
   - Внешняя система передает свой ID и секретный ключ
   - CustomerService проверяет существование клиента и его активность
   - Если клиент активен, предоставляется доступ к запрашиваемым ресурсам

### Интеграции с другими модулями
- **Events**: Используется для проверки доступа к мероприятиям через EventsCustomerController
- **Solver**: Используется для запуска сессий от имени внешних клиентов

### Важные особенности
- Модуль предназначен только для внутреннего использования
- Не предоставляет публичных HTTP эндпоинтов
- Все данные хранятся в базе данных через Prisma
- Модуль использует Dependency Injection для подключения зависимостей
